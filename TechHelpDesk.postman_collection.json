{
  "info": {
    "name": "TechHelpDesk API",
    "_postman_id": "b2c6f5f0-0000-0000-0000-techhelpdesk",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000"
    },
    {
      "key": "token",
      "value": ""
    }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register Admin",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "register"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Admin User\",\n  \"email\": \"admin@techhelpdesk.com\",\n  \"password\": \"Admin123*\",\n  \"role\": \"ADMIN\"\n}"
            }
          }
        },
        {
          "name": "Register Client",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "register"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Client User\",\n  \"email\": \"client@example.com\",\n  \"password\": \"Client123*\",\n  \"role\": \"CLIENT\"\n}"
            }
          }
        },
        {
          "name": "Register Technician",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "register"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Tech User\",\n  \"email\": \"tech@example.com\",\n  \"password\": \"Tech123*\",\n  \"role\": \"TECHNICIAN\"\n}"
            }
          }
        },
        {
          "name": "Login (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "login"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@techhelpdesk.com\",\n  \"password\": \"Admin123*\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const res = pm.response.json();",
                  "const token = res.accessToken || (res.data && res.data.accessToken);",
                  "if (token) {",
                  "  pm.collectionVariables.set('token', token);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Login (Client)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "login"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"client@example.com\",\n  \"password\": \"Client123*\"\n}"
            }
          }
        },
        {
          "name": "Login (Technician)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "login"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"tech@example.com\",\n  \"password\": \"Tech123*\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Users (Admin only)",
      "item": [
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "users"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"New User\",\n  \"email\": \"newuser@example.com\",\n  \"password\": \"User123*\",\n  \"role\": \"CLIENT\"\n}"
            }
          }
        },
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "users"
              ]
            }
          }
        },
        {
          "name": "Update User (id=1)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "users",
                "1"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Username\"\n}"
            }
          }
        },
        {
          "name": "Delete User (id=1)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "users",
                "1"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Categories (Admin only)",
      "item": [
        {
          "name": "Create Category",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/categories",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "categories"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Software Issues\",\n  \"description\": \"Tickets related to software problems\"\n}"
            }
          }
        },
        {
          "name": "Get All Categories",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/categories",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "categories"
              ]
            }
          }
        },
        {
          "name": "Update Category (id=1)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/categories/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "categories",
                "1"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Category Name\"\n}"
            }
          }
        },
        {
          "name": "Delete Category (id=1)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/categories/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "categories",
                "1"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Clients (Admin only)",
      "item": [
        {
          "name": "Create Client",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/clients",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Juan P\\u00e9rez\",\n  \"company\": \"TechCorp\",\n  \"contactEmail\": \"juan.perez@example.com\",\n  \"userId\": 2\n}"
            }
          }
        },
        {
          "name": "Get All Clients",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/clients",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients"
              ]
            }
          }
        },
        {
          "name": "Update Client (id=1)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/clients/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients",
                "1"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company\": \"New Company Name\"\n}"
            }
          }
        },
        {
          "name": "Delete Client (id=1)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/clients/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients",
                "1"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Technicians (Admin only)",
      "item": [
        {
          "name": "Create Technician",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/technicians",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "technicians"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Carlos Repair\",\n  \"specialty\": \"Networking\",\n  \"userId\": 3\n}"
            }
          }
        },
        {
          "name": "Get All Technicians",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/technicians",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "technicians"
              ]
            }
          }
        },
        {
          "name": "Update Technician (id=1)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/technicians/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "technicians",
                "1"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"specialty\": \"Updated Specialty\"\n}"
            }
          }
        },
        {
          "name": "Delete Technician (id=1)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/technicians/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "technicians",
                "1"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Tickets",
      "item": [
        {
          "name": "Create Ticket",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/tickets",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "tickets"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Printer not working\",\n  \"description\": \"The office printer stopped responding.\",\n  \"priority\": \"HIGH\",\n  \"categoryId\": 1,\n  \"clientId\": 1,\n  \"technicianId\": 1\n}"
            }
          }
        },
        {
          "name": "Change Status to IN_PROGRESS (id=1)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/tickets/1/status",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "tickets",
                "1",
                "status"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"IN_PROGRESS\"\n}"
            }
          }
        },
        {
          "name": "Change Status to RESOLVED (id=1)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/tickets/1/status",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "tickets",
                "1",
                "status"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"RESOLVED\"\n}"
            }
          }
        },
        {
          "name": "Change Status to CLOSED (id=1)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/tickets/1/status",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "tickets",
                "1",
                "status"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"CLOSED\"\n}"
            }
          }
        },
        {
          "name": "Get Tickets by Client (clientId=1)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/tickets/client/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "tickets",
                "client",
                "1"
              ]
            }
          }
        },
        {
          "name": "Get Tickets by Technician (technicianId=1)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/tickets/technician/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "tickets",
                "technician",
                "1"
              ]
            }
          }
        },
        {
          "name": "Get All Tickets",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/tickets",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "tickets"
              ]
            }
          }
        }
      ]
    }
  ]
}